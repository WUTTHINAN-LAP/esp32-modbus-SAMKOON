üöÄ ESP32-C3 Modbus RTU Server (Industrial IoT Node)
[Relay Control | Sensor Monitoring | Samkoon HMI Integration]
‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå Modbus RTU Slave (Server) ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ ESP32-C3 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á (Floating Point) ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏≠ Samkoon HMI (SK-070FE)
________________________________________
‚ú® Features (‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏î‡πà‡∏ô)
‚Ä¢	Dual-Core Processing Simulation: ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ Modbus-ESP32 ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÅ‡∏ö‡∏ö Real-time
‚Ä¢	Precision Sensing:
o	AHT20: ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ó‡∏ò‡πå‡∏ú‡πà‡∏≤‡∏ô I2C
o	INA219: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô (V) ‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (mA) ‡πÅ‡∏ö‡∏ö DC ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á
‚Ä¢	Visual Status Feedback:
o	NeoPixel (GPIO 7): ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô: Standby / ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß: Modbus Active)
‚Ä¢	Industrial Connectivity: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô RS485 (Baudrate 9600) ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡πÑ‡∏Å‡∏•‡πÅ‡∏•‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏ö‡∏Å‡∏ß‡∏ô
________________________________________
üìã Modbus Register Mapping (‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏µ‡∏à‡∏¥‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå)
üü¢ Digital I/O (Coils - 0x)
Address	Function	Description	Access
0x00	Relay 1	‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 1 (GPIO 2)	R/W
0x01	Relay 2	‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 2 (GPIO 3)	R/W
0x02	Switch 1	‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 1 (GPIO 0)	Read Only
0x03	Switch 2	‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 2 (GPIO 1)	Read Only
üîµ Analog Data (Input Registers - 3x)
‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö IEEE 754 Floating Point (32-bit) ‡πÉ‡∏ä‡πâ 2 Registers ‡∏ï‡πà‡∏≠ 1 ‡∏Ñ‡πà‡∏≤
Address	Parameter	Unit	Memory Range
100	Temperature	¬∞C	100 - 101
102	Humidity	%	102 - 103
104	Bus Voltage	V	104 - 105
106	Current	mA	106 - 107
________________________________________
üîå Hardware Configuration (‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢)
ESP32-C3 Pin	Function	Device Connection
GPIO 2	Digital Output	Relay 1 (Active LOW)
GPIO 3	Digital Output	Relay 2 (Active LOW)
GPIO 0	Digital Input	Push Button 1 (Pull-up)
GPIO 1	Digital Input	Push Button 2 (Pull-up)
GPIO 20	Serial RX	RS485 RO (Receiver Output)
GPIO 21	Serial TX	RS485 DI (Driver Input)
GPIO 7	Data Out	WS2812B NeoPixel Status LED
GPIO 8/9	SDA / SCL	AHT20 & INA219 (I2C Bus)
________________________________________
üñ•Ô∏è Samkoon HMI Setup (‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≠ SK-070FE)
‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ö‡∏ô‡∏à‡∏≠ Samkoon ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏≤ Floating Point ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:
1.	Communication Setup:
o	Link Type: Modbus RTU (Slave)
o	Baud Rate: 9600, 8, N, 1
2.	Numerical Display:
o	Address: 3x 100 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥)
o	Data Type: 32-bit Float
o	‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏´‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ú‡∏¥‡∏î‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Word Swap ‡πÉ‡∏ô Link Properties
3.	Bit Button/Lamp:
o	‡πÉ‡∏ä‡πâ Address 0x 0 ‡∏ñ‡∏∂‡∏á 0x 3 ‡∏ï‡∏≤‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á Coil ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
________________________________________
üì¶ Requirements (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
1.	Arduino IDE ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ ESP32 (C3)
2.	Libraries:
o	Modbus-ESP8266 (‡πÇ‡∏î‡∏¢ Bert Melis)
o	Adafruit_AHTX0
o	Adafruit_INA219
o	Adafruit_NeoPixel

